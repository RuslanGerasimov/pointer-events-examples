<!doctype html>
<html>
<head>
    <title></title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="brushstroke.js"></script>
	<link rel="stylesheet" href="global.css"/>
	<link rel="stylesheet" href="brushstroke.css"/>
    <script type="text/javascript">
        window.onload = function () {
			var elem = document.getElementById('elem');
			var touches;
			
			document.documentElement.addEventListener('touchstart', function (event) {
				event.preventDefault();
			});
			
			elem.addEventListener('touchstart', function (event) {
				touches = event.touches;
				tick();
			});

			elem.addEventListener('touchmove', function (event) {
				touches = event.touches;
			});
			
			elem.addEventListener('touchend', function () {
				touches = null;
			});

			tick();
			function tick () {
				if (touches) {
					Array.prototype.forEach.call(touches, function (touch) {
						createBrushstroke(touch.pageX, touch.pageY, '#DE3A3A');
					});
				}
				requestAnimationFrame(tick);
			}
		};
    </script>
    <style>
		#elem {
			width: 50%;
			height: 100%;
			background-color: #D2E9F7;
			box-sizing: border-box;
            border-right: 2px solid black;
		}
        
    </style>
</head>
<body>
	<div id=elem></div>
    <h1 class=title>Touch Events<br/>(outside)</h1>
</body>
</html>